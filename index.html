<!DOCTYPE html>
<html>
  <head>
    <title>spaceInv</title>
    <link rel="stylesheet" href="css/style.css">
    <link rel="manifest" href="manifest.json">
    <meta name="theme-color" content="#000000">
    
    <!-- iOS/Android Full-Screen and Viewport Control -->
    <meta name="viewport" content="width=device-width, initial-scale=1.0, maximum-scale=1.0, user-scalable=no, viewport-fit=cover">
    <meta name="apple-mobile-web-app-capable" content="yes">
    <meta name="apple-mobile-web-app-status-bar-style" content="black-translucent">

    <script src="js/p5.min.js"></script>
    <!-- Use type="module" for ES6 module support -->
    <script type="module" src="js/sketch.js"></script>

    <style>
  :root {
    --sai-top: env(safe-area-inset-top, 0px);
    --sai-bottom: env(safe-area-inset-bottom, 0px);
    --sai-left: env(safe-area-inset-left, 0px);
    --sai-right: env(safe-area-inset-right, 0px);
}

body {
    padding-top: var(--sai-top);
    padding-bottom: var(--sai-bottom);
    padding-left: var(--sai-left);
    padding-right: var(--sai-right);
}

  html, body {
    margin: 0;
    padding: 0;
    overflow: hidden;
    background-color: #000; /* Black background for the page */
  }

        canvas {
            display: block;
            position: fixed;
            top: 0;
            left: 0;
            /* Prevent iOS text selection/callout behaviors */
            -webkit-user-select: none; /* Safari */
            user-select: none;
            -webkit-touch-callout: none; /* iOS */
            
            /* Crisp rendering and disable touch actions */
            image-rendering: pixelated;
            image-rendering: -moz-crisp-edges;
            image-rendering: crisp-edges;
            touch-action: none;
        }

        /* Orientation Hint for Portrait Mode */
        #orientation-hint {
            display: none;
            position: fixed;
            top: 0;
            left: 0;
            width: 100%;
            height: 100%;
            background-color: #000;
            color: #fff;
            justify-content: center;
            align-items: center;
            font-family: sans-serif;
            font-size: 1.5em;
            text-align: center;
            z-index: 1000;
        }

        @media (orientation: portrait) {
            #orientation-hint {
                display: flex;
            }
            canvas {
                display: none;
            }
        }
</style>

  </head>
  <body>
    <div id="orientation-hint">
        Please rotate your device to landscape mode to play.
    </div>
    <script>
      // Prevent pinch-to-zoom
      document.addEventListener('touchmove', function (event) {
        if (event.scale !== 1) {
          event.preventDefault();
        }
      }, { passive: false });

      // Prevent double-tap-to-zoom
      var lastTouchEnd = 0;
      document.addEventListener('touchend', function (event) {
        var now = (new Date()).getTime();
        if (now - lastTouchEnd <= 300) {
          event.preventDefault();
        }
        lastTouchEnd = now;
      }, false);
    </script>
  </body>
</html>